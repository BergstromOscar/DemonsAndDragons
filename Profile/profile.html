<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <header>
        <h1>Your Profile</h1>
    </header>
    <main>
        <h2>Profile Information</h2>
        <div id="profile-display">
            <p><strong>Name:</strong> <span id="display-name"></span></p>
            <p><strong>Surname:</strong> <span id="display-surname"></span></p>
            <p><strong>Age:</strong> <span id="display-age"></span></p>
            <p><strong>Email:</strong> <span id="display-email"></span></p>
            <button id="edit-profile-button">Edit</button>
        </div>
        <form id="profile-form" style="display:none;">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name"><br><br>
            <label for="surname">Surname:</label>
            <input type="text" id="surname" name="surname"><br><br>
            <label for="age">Age:</label>
            <input type="number" id="age" name="age"><br><br>
            <label for="email">Email:</label>
            <input type="email" id="email" name="email"><br><br>
            <button type="button" id="save-profile-button">Save Profile</button>
        </form>
        <button onclick="window.location.href='../index.html'">Back to Home</button>
    </main>
    <footer>
        <p>&copy; 2024 Demons And Dragons</p>
    </footer>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {
            // Load profile data from local storage if it exists
            function loadProfileData() {
                if (localStorage.getItem('profileData')) {
                    const profileData = JSON.parse(localStorage.getItem('profileData'));
                    $('#display-name').text(profileData.name);
                    $('#display-surname').text(profileData.surname);
                    $('#display-age').text(profileData.age);
                    $('#display-email').text(profileData.email);
                    $('#profile-display').show();
                    $('#profile-form').hide();
                } else {
                    $('#profile-display').hide();
                    $('#profile-form').show();
                }
            }

            loadProfileData();

            // Save profile data to local storage
            $('#save-profile-button').click(function() {
                const profileData = {
                    name: $('#name').val(),
                    surname: $('#surname').val(),
                    age: $('#age').val(),
                    email: $('#email').val()
                };
                localStorage.setItem('profileData', JSON.stringify(profileData));
                alert('Profile saved successfully!');
                loadProfileData();
            });

            // Show the form to edit profile data
            $('#edit-profile-button').click(function() {
                const profileData = JSON.parse(localStorage.getItem('profileData'));
                $('#name').val(profileData.name);
                $('#surname').val(profileData.surname);
                $('#age').val(profileData.age);
                $('#email').val(profileData.email);
                $('#profile-display').hide();
                $('#profile-form').show();
            });
        });
    </script>
</body>
</html>
